<div class="chat-admin" *ngIf="roomName">
  <div class="chat-header-admin clearfix">
    <div class="row">
      <div class="col-lg-6" *ngIf="user">
        <a href="" data-toggle="modal"
           data-target="#view_info">
          <img  src="{{user.avatar}}"
               alt="avatar">
        </a>
        <div class="chat-about">
          <h6 class="m-b-0">{{user.userName}}</h6>
          <small>{{role}}</small>
        </div>
      </div>
      <div class="col-lg-6 hidden-sm text-right">
        <label class="btn btn-outline-primary" for="file-input">
          <i class="fa fa-image"></i>
          <input type="file" (change)="importImages($event)" id="file-input" multiple class="inputfile">
        </label>
      </div>
    </div>
  </div>
  <div class="chat-history" (scroll)="readNoti()">
    <ul class="m-b-0">
      <li class="clearfix" *ngFor="let chat of chats">
        <div class="message-data text-right" *ngIf="chat.nickname === roomName">
          <span class="message-data-time">{{chat.date}} </span>
          <img src="{{user.avatar}}"
               alt="avatar">
        </div>
        <div class="message other-message float-right"
             *ngIf="chat.nickname === roomName && chat.type === 'message'">{{chat.message}}
        </div>
        <div class="float-right" *ngIf="chat.nickname === roomName && chat.type === 'image'">
          <div *ngIf="chat.nickname === roomName && chat.type === 'image'">
            <img class="message other-message float-right" style="width: 20%;height: 20%;" src="{{chat.message}}" alt="">
          </div>
        </div>
        <div class="message-data" *ngIf="chat.nickname !== roomName">
          <span class="message-data-time">{{chat.date}} </span>
        </div>
        <div class="message my-message"
             *ngIf="chat.nickname !== roomName && chat.type === 'message'">{{chat.message}}</div>
        <div *ngIf="chat.nickname !== roomName && chat.type === 'image'">
          <img class="message my-message" style="width: 20%;height: 20%;" src="{{chat.message}}" alt="">
        </div>
      </li>
      <li>
        <div *ngIf="loadImage" class="message my-message">
          <div class="spinner-border" style="text-align: center" role="status">
            <span class="sr-only">Loading...</span>
          </div>
        </div>
      </li>
    </ul>
  </div>
  <div class="chat-message clearfix">
    <div class="input-group mb-0">
      <div class="input-group-prepend">
        <span class="input-group-text"><i class="fa fa-send"></i></span>
      </div>
      <form action="" [formGroup]="chatForm" (ngSubmit)="onFormSubmit(chatForm.value, 'message')" style="width: 90%">
        <input type="text" class="form-control m-0 text-white" formControlName="message"
               placeholder="Nhập tin nhắn...">
      </form>
    </div>
  </div>
</div>
<div class="chat-admin" *ngIf="!roomName">
  <p class="custom-p">Select a thread or start a new conversation</p>
</div>
