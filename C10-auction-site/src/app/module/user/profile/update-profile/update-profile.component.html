<div class="container">
  <div class="row">
    <div class="col-lg-2"></div>
    <div class="col-lg-8">
      <form [formGroup]="formEditUser">
        <h1 style="color: blue; text-align: center" class="mt-3">Chỉnh sửa thông tin cá nhân</h1>
        <h2 *ngIf="message" style="color: lawngreen">{{message}}</h2>
        <div class="form-group">
          <div>
            <input type="hidden" class="form-control" formControlName="userId">
          </div>
          <h3 for="userName">Họ và tên: </h3>
          <input type="text" class="form-control" id="userName" name="userName" formControlName="userName">
        </div>
        <div class="alert alert-danger"
             *ngIf="!userName.valid && (userName.dirty || userName.touched)">
          <div [hidden] ="!userName.errors?.required">
            Vui lòng nhập Họ và tên !!
          </div>
          <div [hidden] ="!userName.errors?.minlength">
            Họ và tên quá ngắn !!
          </div>
          <div [hidden] ="!userName.errors?.maxlength">
            Họ và tên quá dài !!
          </div>
          <div [hidden] ="!nameValidator.bind(this)">
            Họ và tên không chứa số hoặc kí tự đặc biệt !!
          </div>
        </div>
        <div class="form-group">
          <h3 for="email">Email: </h3>
          <input type="text" class="form-control" id="email" name="email" formControlName="email">
        </div>
        <div class="alert alert-danger"
             *ngIf="!email.valid && (email.dirty || email.touched)">
          <div [hidden] ="!email.errors?.required">
            Vui lòng nhập email !!
          </div>
          <div [hidden] ="!email.errors?.maxlength">
            Email quá dài !!
          </div>
          <div [hidden] ="!email.errors?.email">
            Email phải đúng định dạng abc@abc.abc !!
          </div>
        </div>
        <div class="form-group">
          <h3 for="birthday">Ngày sinh: </h3>
          <input type="date" class="form-control" data-date="" data-date-format="DD/MM/YYYY" id="birthday" name="birthday" formControlName="birthday"
                 placeholder="dd-MM-yyyy">
        </div>
        <div class="alert alert-danger"
             *ngIf="!birthday.valid && (birthday.dirty || birthday.touched)">
          <div [hidden] ="!birthday.errors?.required">
            Vui lòng nhập Ngày sinh !!
          </div>
        </div>
        <div class="row">
          <div class="col">
            <h3 for="identity">CMND: </h3>
            <input type="text" class="form-control" id="identity" name="identity" formControlName="identity">
          </div>
          <div class="alert alert-danger col-lg-4"
               *ngIf="!identity.valid && (identity.dirty || identity.touched)">
            <div [hidden] ="!identity.errors?.required">
              Vui lòng nhập email !!
            </div>
            <div [hidden] ="!identity.errors?.pattern">
              CMND phải đúng định dạng XXXXXXXXX - X(0-9) !!
            </div>
          </div>
          <div class="col">
            <h3 for="phone">Số điện thoại: </h3>
            <input type="text" class="form-control" id="phone" name="phone" formControlName="phone">
          </div>
          <div class="alert alert-danger col-lg-4"
               *ngIf="!phone.valid && (phone.dirty || phone.touched)">
            <div [hidden] ="!phone.errors?.required">
              Vui lòng nhập SDT !!
            </div>
            <div [hidden] ="!phone.errors?.pattern">
              SDT phải đúng định dạng 090xxxxxxx hoặc 091xxxxxxx hoặc (84)+90xxxxxxx hoặc (84)+91xxxxxxx X(0-9) !!
            </div>
          </div>
        </div>
        <div class="form-row mt-2">
          <div class="form-group col-md-4">
            <div class="label-res">
              <h3 for="province"> Tỉnh/Thành phố:</h3>
            </div>
            <div class="form-group">
              <select
                [hidden]="!province.invalid && (province.dirty || province.touched)"
                *ngIf="province.valid" id="province" class="form-control"
                (change)="changeProvince($event.target.value)">
                <option *ngFor="let provinces of provinceList" [value]="provinces.province_id">
                  {{provinces.province_name}}</option>
              </select>
            </div>
            <div class="invalid-feedback"></div>
          </div>
          <div class="form-group col-md-4">
            <div class="label-res">
              <h3 for="district"> Quận/Huyện: </h3>
            </div>
            <div class="input-group">
              <select
                [hidden] ="!district.invalid && (district.dirty || district.touched)"
                *ngIf="district.valid" id="district" class="form-control"
                (change)="changeDistrict($event.target.value)">
                <option *ngFor="let districts of districtList" [value]="districts.district_id">
                  {{districts.district_name}}</option>
              </select>
            </div>
            <div class="invalid-feedback"></div>
          </div>
          <div class="form-group col-md-4">
            <div class="label-res">
              <h3 for="ward"> Xã/Thị trấn: </h3>
            </div>
            <div class="input-group">
              <select
                [hidden] ="!ward.invalid && (ward.dirty || ward.touched)"
                *ngIf = "ward.valid" id="ward" class="form-control"
                (change)="changeWard($event.target.value)">
                <option *ngFor="let wards of wardList" [value]="wards.ward_id">
                  {{wards.ward_name}}</option>
              </select>
            </div>
            <div class="invalid-feedback"></div>
          </div>
        </div>
        <div class="d-flex justify-content-center align-items-center mt-2 mb-4">
          <button class="btn btn-success mr-3" [disabled]="!formEditUser.valid" (click)="updateUser()" style="width: 80px">Lưu</button>
          <button class="btn btn-danger" style="width: 80px" (click)="resetForm()">Hủy</button>
        </div>
      </form>
    </div>
    <div class="col-lg-2"></div>
  </div>
</div>

