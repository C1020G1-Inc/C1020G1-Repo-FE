<div class="container-fluid mt-2">
  <form class="container bg-light form-inline" *ngIf="formSearch" ngNoForm [formGroup]="formSearch"
        (ngSubmit)="search()">
    <label for="search" class="text-dark ml-5 {{marginBottom}}">Nhập Tên Sản Phẩm:</label>
    <input id="search" (input)="checkForm()" class="form-control ml-3 rounded-pill search pr-3 {{marginBottom}}"
           type="search"
           placeholder="Tên Sản Phẩm ..." formControlName="keySearch">
    <select class="form-control rounded-pill ml-3 {{marginBottom}}" formControlName="category">
      <option [value]="0">Tất Cả Danh Mục</option>
      <option [value]="1">Gia Dụng</option>
      <option [value]="2">Công Nghệ</option>
      <option [value]="4">Hot</option>
      <option [value]="3">Khác</option>
    </select>
    <select class="form-control rounded-pill ml-3 {{marginBottom}}" formControlName="priceRange">
      <option [value]="0">Tất Cả Mọi Giá Tiền</option>
      <option [value]="1">Từ 0 vnđ đến 500 nghìn vnđ</option>
      <option [value]="2">Từ 500 nghìn vnd đến 2 triệu vnđ</option>
      <option [value]="3">Từ 2 triệu vnd đến 10 triệu vnđ</option>
      <option [value]="4">Từ 10 triệu vnd đến 50 triệu vnđ</option>
      <option [value]="5">Lớn hơn 50 triệu</option>
    </select>
    <div class="btn-group" role="group" aria-label="Basic example">
      <button type="submit" class="btn btn-warning rounded-pill ml-3 {{marginBottom}}">
        <i class="fa fa-search"></i> Tìm kiếm
      </button>
    </div>
    <div *ngIf="keySearch.invalid && (keySearch.dirty||keySearch.touched)" class="text-danger">
      <div *ngIf="keySearch.errors.required && checkValidate === true"
           class="text-danger font-italic font-weight-bolder mb-5 ml-5">
        Tìm kiếm không được bỏ trống !
      </div>
      <div *ngIf="keySearch.errors.pattern && checkValidate === true && !keySearch.errors.maxlength"
           class="text-danger font-italic font-weight-bolder mb-5 ml-5">
        Tìm kiếm không chứa kí tự đặc biệt !
      </div>
      <div *ngIf="keySearch.errors.maxlength && checkValidate === true"
           class="text-danger font-italic font-weight-bolder mb-5 ml-5">
        Bạn đã nhập quá kí tự tìm kiếm !
      </div>
    </div>
  </form>
  <div class="container bg-light">
    <nav class="navbar navbar-expand-lg navbar-secondary bg-secondary">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
              aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="nav-link" style="color: white"><i class="fa fa-align-justify"></i></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link ml-5" routerLink="/home"><i class="fa fa-gavel"></i> Đang Đấu Giá</a>
          </li>
          <li class="nav-item">
            <a class="nav-link ml-5" routerLink="/home/end"><i class="fa fa-times-circle"></i> Đã Kết Thúc</a>
          </li>
          <li class="nav-item">
            <a class="nav-link ml-5" routerLink="/home/result"><i class="fa fa-calendar-o"></i> Kết Quả</a>
          </li>
          <li class="nav-item">
            <a class="nav-link ml-5" routerLink="/home/top"><i class="fa fa-bar-chart-o"></i> Top 5 Đấu Giá</a>
          </li>
        </ul>
      </div>
    </nav>
  </div>
</div>
<div class="container-fluid vh-100">
  <div class="container mt-5">
    <div class="row">
      <div class="col-md-3 col-sm-6"
           *ngFor="let productImage of listProduct | paginate: { itemsPerPage: 16, currentPage: page }; ">
        <div class="single-shop-product" *ngIf="productImage.id !== null">
          <div class="product-upper border border-info">
            <img class="image-product" [src]="productImage.image" alt="">
          </div>
          <h2 class="text-name-product"><a href="">{{productImage.product.productName}}</a></h2>
          <div class="product-carousel-price">
            <ins>Giá Hiện Tại: <span style="color: red">{{productImage.product.lastPrice | number}}</span> (VNĐ)</ins>
          </div>
          <p> Thời gian còn lại: <span class="text-time"><countdown
            [config]="{leftTime:  getTimeRemain(productImage.product.registerTime,productImage.product.auctionTime), format: getDayRemain(productImage.product.registerTime, productImage.product.auctionTime)+' HH:mm:ss'}"></countdown></span>
          </p>
          <div class="product-option-shop">
            <a class="add_to_cart_button rounded-pill" data-quantity="1" data-product_sku=""
               data-product_id="70"
               rel="nofollow" [routerLink]="['/auction/bidding', productImage.product.productId]">Đấu Giá</a>
          </div>
        </div>
      </div>
      <div class="container" *ngIf="checkListProduct === false">
        <div class="text-danger text-center">Không có sản phẩm để hiển thị.</div>
      </div>
    </div>
  </div>
  <div class="container mb-5" *ngIf="checkListProduct === true ">
    <pagination-controls maxSize="4" nextLabel="Sau" previousLabel="Trước" (pageChange)="page = $event"></pagination-controls>
  </div>
</div>
